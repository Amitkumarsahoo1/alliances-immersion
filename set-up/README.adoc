= Instructor set up

This directory contains artifacts and instructions to set up for new classes.

== Environments

Follow this guide to create a new environment or reset an existing environment.

=== Resetting

You can pick and chose which components to reset or completely wipe out everything (except ESXi) and start over.  Your call.

To completely reset, first log into vSphere through the client (not vCenter) and  delete all VMs.

== Initial Set up

=== vSphere

==== Add the SSD

If only datastore1 shows up, add the SSD datastore.

* Log into vSphere through the client

* Highlight the host > Configuration > Storage > Add Storage

* Name it `ssd`

==== Networking

There is a script in the vSphere directory to set up networking.  You need the vSphere cli to run this.

You can also set up networking manually if you don't want to go through the cli install.  Please be sure to set it up the same way though.

To run the script:

* Install the vSphere CLI: https://my.vmware.com/web/vmware/details?downloadGroup=VCLI550&productId=352

* Edit the env-config.sh script for the environment you are setting up.

* Run the vsphere/networking.sh script

=== pfSense

==== Deploying pfSesnse

==== Configuring pfSense


=== vCenter

==== Installing vCenter

* Log into vSphere through the client.

* File > Deploy OVF Template
+
** The OVA is available on S3: https://s3-us-west-2.amazonaws.com/pcf-immersion/VMware-vCenter-Server-Appliance-5.5.0.20200-2183109_OVF10.ova
** Use datastore1 (the non-ssd)
** Deploy to the WAN Network

==== Configure vCenter

* In vSphere > vCenter VM > Console
+
** Login w/ root/vmware
** run `/opt/vmware/share/vami/vami_config_net` to configure networking
+
Save yourself the timeout headaches and configure in the following order:
** Option 6) IP Address: <FROM THE SPREADSHEET>
+
Config IPV6 address: No
+
Configure an IPv4 address for eth0: Y
+
Use a DHCPv4 server: n
+
Netmask: 255.255.255.0
** Option 4) DNS: 8.8.8.8 & 8.8.4.4
** Option 2) IPv4
+
Default gateway: <SAME AS THE VCENTER IP EXCEPT .1>
+
IPv6 Gateway: <leave blank>

* In a browser, navigate to https://<VCENTER_IP>:5480
+
** Log in w/ default pwd: root/vmware
** Accept EULA
** Config w/ default settings
** Admin > Change PWD pa15field

==== Set PCF Elements

* Use the vSphere client to log into vCenter

* Create a datacenter: Pivotal

* Create a cluster: PCF



=== Jumpbox

SG: I need to create an OVA/packer build for this
